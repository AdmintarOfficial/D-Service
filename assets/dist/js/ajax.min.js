var HttPRequest = false;

// Cookie
function getCookie(name) {
    let cookieValue = null;
    if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            // Does this cookie string begin with the name we want?
            if (cookie.substring(0, name.length + 1) === (name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
}

function doCallLogin() {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/เข้าสู่ระบบ/';
    var pmeters = "tuser=" + encodeURI(document.getElementById("user").value) +
        "&tpass=" + encodeURI(document.getElementById("pass").value) +
        "&tlogin=" + encodeURI(document.getElementById("login").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        // SweetAlert2
        const Toast = Swal.mixin({
            toast: true,
            position: 'top-end',
            showConfirmButton: false,
            timer: 5000
        });
        
        // Loading Request
        if(HttPRequest.readyState == 3) {
            Toast.fire({
                icon: 'info',
                title: 'กำลังโหลด...'
            })
        }
        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.location = Jsonresponse.url;
            } else if(Jsonresponse.status == 'N') {
                Toast.fire({
                    icon: Jsonresponse.values,
                    title: Jsonresponse.alertify
                })
            } else {
                Toast.fire({
                    icon: 'question',
                    title: HttPRequest.responseText
                })
            }
        }
    }
}

function doCallAddCart() {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/ขายสินค้า/';
    var pmeters = "tbarcode=" + encodeURI(document.getElementById("barcode").value) +
        "&tsl_barcode=" + encodeURI(document.querySelector('[name=sl_barcode]').checked) +
        "&taddcart=" + encodeURI(document.getElementById("addcart").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.top.location.reload();
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallDelCartID(id) {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/ขายสินค้า/';
    var pmeters = "tid=" + id +
        "&tdel_id=" + encodeURI(document.getElementById("del_id").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.top.location.reload();
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallDelCartAll() {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/ขายสินค้า/';
    var pmeters = "&tdel_all=" + encodeURI(document.getElementById("del_all").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.top.location.reload();
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallSellProduct() {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/ขายสินค้า/';
    var pmeters = "&tmember=" + encodeURI(document.getElementById("member").value) +
        "&ttype=" + encodeURI(document.getElementById("type").value) +
        "&tcash=" + encodeURI(document.getElementById("cash").value) +
        "&ttransfer=" + encodeURI(document.getElementById("transfer").value) +
        "&tdiscount=" + encodeURI(document.getElementById("discount").value) +
        "&tsellproduct=" + encodeURI(document.getElementById("sellproduct").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.location = Jsonresponse.url;
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallAddCart2() {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/ซัมซุงไฟแนนซ์/';
    var pmeters = "tbarcode=" + encodeURI(document.getElementById("barcode").value) +
        "&tsl_barcode=" + encodeURI(document.querySelector('[name=sl_barcode]').checked) +
        "&taddcart=" + encodeURI(document.getElementById("addcart").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.top.location.reload();
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallDelCartID2(id) {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/ซัมซุงไฟแนนซ์/';
    var pmeters = "tid=" + id +
        "&tdel_id=" + encodeURI(document.getElementById("del_id").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.top.location.reload();
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallDelCartAll2() {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/ซัมซุงไฟแนนซ์/';
    var pmeters = "&tdel_all=" + encodeURI(document.getElementById("del_all").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.top.location.reload();
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallSamsungFinance() {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/ซัมซุงไฟแนนซ์/';
    var pmeters = "&tmember=" + encodeURI(document.getElementById("member").value) +
        "&ttype=" + encodeURI(document.getElementById("type").value) +
        "&tcash=" + encodeURI(document.getElementById("cash").value) +
        "&ttransfer=" + encodeURI(document.getElementById("transfer").value) +
        "&tdown_payment=" + encodeURI(document.getElementById("down_payment").value) +
        "&tfee=" + encodeURI(document.getElementById("fee").value) +
        "&tsellproduct=" + encodeURI(document.getElementById("sellproduct").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.location = Jsonresponse.url;
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}


// Topup Systems
function doCallAddPhoneNumber() {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/เติมเงินออนไลน์/';
    var pmeters = "tphone_number=" + encodeURI(document.getElementById("phone_number").value) +
        "&tnetwork=" + encodeURI(document.getElementById("network").value) +
        "&tprice=" + encodeURI(document.getElementById("price").value) +
        "&taddphone_number=" + encodeURI(document.getElementById("addphone_number").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.top.location.reload();
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallDelPhoneNumberID(id) {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/เติมเงินออนไลน์/';
    var pmeters = "tid=" + id +
        "&tdel_id=" + encodeURI(document.getElementById("del_id").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.top.location.reload();
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallDelPhoneNumberAll() {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/เติมเงินออนไลน์/';
    var pmeters = "&tdel_all=" + encodeURI(document.getElementById("del_all").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.top.location.reload();
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallSellTopup() {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/เติมเงินออนไลน์/';
    var pmeters = "&tmember=" + encodeURI(document.getElementById("member").value) +
        "&tcash=" + encodeURI(document.getElementById("cash").value) +
        "&ttransfer=" + encodeURI(document.getElementById("transfer").value) +
        "&tfee=" + encodeURI(document.getElementById("fee").value) +
        "&tselltopup=" + encodeURI(document.getElementById("selltopup").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.location = Jsonresponse.url;
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallCancelBill(id) {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/ยกเลิกบิล/';
    var pmeters = "tid=" + id +
        "&ttype=" + encodeURI(document.getElementById("type-"+id).value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.top.location.reload();
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallStockIn() {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/รับสินค้า/';
    var pmeters = "tget_item=" + encodeURI(document.getElementById("get_item").value) +
        "&tproduct_id=" + encodeURI(document.getElementById("product_id").value) +
        "&tbc_ean=" + encodeURI(document.getElementById("bc_ean").value) +
        "&tbc_aup=" + encodeURI(document.getElementById("bc_aup").value) +
        "&timei1=" + encodeURI(document.getElementById("imei1").value) +
        "&timei2=" + encodeURI(document.getElementById("imei2").value) +
        "&timei3=" + encodeURI(document.getElementById("imei3").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.top.location.reload();
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallAddProduct() {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/รับสินค้า/';
    var pmeters = "tadd_item=" + encodeURI(document.getElementById("add_item").value) +
        "&titem_name=" + encodeURI(document.getElementById("item_name").value) +
        "&titem_id=" + encodeURI(document.getElementById("item_id").value) +
        "&titem_price=" + encodeURI(document.getElementById("item_price").value) +
        "&titem_network=" + encodeURI(document.getElementById("item_network").value) +
        "&titem_type=" + encodeURI(document.getElementById("item_type").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.top.location.reload();
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallDelStockOutID(id) {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/โอนสินค้า/';
    var pmeters = "tid=" + id +
        "&tdel_id=" + encodeURI(document.getElementById("del_id").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.top.location.reload();
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallDelStockOutAll() {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/โอนสินค้า/';
    var pmeters = "&tdel_all=" + encodeURI(document.getElementById("del_all").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.top.location.reload();
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallGetItemStockOut() {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/โอนสินค้า/';
    var pmeters = "tbarcode=" + encodeURI(document.getElementById("barcode").value) +
        "&tsl_barcode=" + encodeURI(document.querySelector('[name=sl_barcode]').checked) +
        "&tget_item=" + encodeURI(document.getElementById("get_item").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.top.location.reload();
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallStockOut() {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/โอนสินค้า/';
    var pmeters = "tstock_out=" + encodeURI(document.getElementById("stock_out").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.top.location.reload();
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallCreateStock() {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/เช็คสต๊อก/';
    var pmeters = "tcreate_stock=" + encodeURI(document.getElementById("create_stock").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            
            if(Jsonresponse.status == 'Y') {
                window.top.location.reload();
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}

function doCallCheckStock() {
    HttPRequest = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari,...
        HttPRequest = new XMLHttpRequest();
        if (HttPRequest.overrideMimeType) {
            HttPRequest.overrideMimeType('text/html');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    } 
    if (!HttPRequest) {
        alert('Cannot create XMLHTTP instance');
        return false;
    }
    var url = '/เช็คสต๊อก/';
    var pmeters = "tbarcode=" + encodeURI(document.getElementById("barcode").value) +
        "&tsl_barcode=" + encodeURI(document.querySelector('[name=sl_barcode]').checked) +
        "&tcheck_stock=" + encodeURI(document.getElementById("check_stock").value) +
        "&tcsrftoken=" + encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value);
    HttPRequest.open('POST',url,true);

    HttPRequest.setRequestHeader("X-CSRFToken", encodeURI(document.querySelector('[name=csrfmiddlewaretoken]').value));
    HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    HttPRequest.send(pmeters);
    
    HttPRequest.onreadystatechange = function() {
        
        // Loading Request

        // Return Request
        if(HttPRequest.readyState == 4)
        {
            var Jsonresponse = JSON.parse(HttPRequest.responseText);
            let snd_correct = new Audio('/assets/dist/audio/correct.mp3');
            let snd_wrong = new Audio('/assets/dist/audio/wrong.mp3');
            
            if(Jsonresponse.status == 'Y') {
                //window.top.location.reload();
                snd_correct.play();
            } else if(Jsonresponse.status == 'N') {
                toastr.error(Jsonresponse.alertify)
                snd_wrong.play();
            } else {
                toastr.error(HttPRequest.responseText)
            }
        }
    }
}